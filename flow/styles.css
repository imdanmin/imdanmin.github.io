/* styles.css */

/* Flowmodoro Timer with East Asian + Anime Aesthetic */

@import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap");

/* Basic layout */

html,
body {
  margin: 0;

  padding: 0;

  width: 100%;

  height: 100%;

  max-width: 100%;

  min-height: 100vh;
}

/* Hide scrollbars for Chrome, Safari, and Edge on the page */

html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbars for Firefox on the page */

html,
body {
  scrollbar-width: none;
}

body {
  font-family: "Press Start 2P", monospace;

  display: flex;

  flex-direction: column;

  align-items: center;

  min-height: 100vh;
}

/* Background GIF */

#background-gif {
  position: fixed;

  top: 0;
  left: 0;

  width: 100%;
  height: 100%;

  background: url("nature.gif") center center fixed;

  background-size: cover;

  z-index: -1;
}

/* Dim overlay */

body::before {
  content: "";

  position: fixed;

  top: 0;
  left: 0;

  width: 100%;
  height: 100%;

  background: rgba(10, 10, 15, 0.5);

  z-index: 0;

  backdrop-filter: blur(5px); /* Reduced blur radius */
}

/* Work mode dimmer and cooler background */

.work-mode #background-gif {
  filter: brightness(0.8) saturate(0.8) hue-rotate(180deg);
}

.work-mode body::before {
  background: rgba(10, 10, 15, 0.6);

  backdrop-filter: blur(6px);
}

/* Break mode brighter, sunnier background */

.break-mode #background-gif {
  filter: brightness(1.1) contrast(1.05) saturate(1.2) hue-rotate(-10deg);
}

.break-mode body::before {
  background: rgba(10, 10, 15, 0.4);

  backdrop-filter: blur(5px);
}

/* Particles Layer */

#particles-container {
  pointer-events: none;

  position: fixed;

  top: 0;
  left: 0;

  width: 100%;
  height: 100%;

  z-index: 0.5;

  overflow: hidden;
}

.petal,
.snowflake,
.cherry {
  position: absolute;

  width: 32px;

  height: 32px;

  opacity: 0.8; /* Reduced base opacity */

  top: -50px;
}

.petal {
  background: url("sakura.png") no-repeat center/contain;
}

.snowflake {
  background: url("snow.png") no-repeat center/contain;
}

.cherry {
  background: url("cherry.png") no-repeat center/contain;

  width: 56px; /* 1.75x original size (32px * 1.75) */

  height: 56px;
}

/* Simplified petal animations */

.petal-drift-left {
  animation: fallDriftLeft 12s linear forwards; /* Increased duration for smoother fall */
}

.petal-drift-right {
  animation: fallDriftRight 12s linear forwards;
}

.petal-spiral {
  animation: fallSpiral 14s linear forwards;
}

@keyframes fallDriftLeft {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(0deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(-50px) rotate(90deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(-100px) rotate(180deg);
    opacity: 0;
  }
}

@keyframes fallDriftRight {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(0deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(50px) rotate(-90deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(100px) rotate(-180deg);
    opacity: 0;
  }
}

@keyframes fallSpiral {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(0deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(30px) rotate(360deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(0) rotate(720deg);
    opacity: 0;
  }
}

/* Simplified snow animations */

.snow-drift-left {
  animation: snowFallLeft 10s linear forwards;
}

.snow-drift-right {
  animation: snowFallRight 10s linear forwards;
}

@keyframes snowFallLeft {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(0deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(-20px) rotate(45deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(-40px) rotate(90deg);
    opacity: 0;
  }
}

@keyframes snowFallRight {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(0deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(20px) rotate(-45deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(40px) rotate(-90deg);
    opacity: 0;
  }
}

/* Simplified cherry animations */

@keyframes cherry-drift-left {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(10deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(-40px) rotate(45deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(-80px) rotate(90deg);
    opacity: 0;
  }
}

@keyframes cherry-drift-right {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(-10deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(40px) rotate(-45deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(80px) rotate(-90deg);
    opacity: 0;
  }
}

@keyframes cherry-tumble {
  0% {
    transform: translateY(-10vh) translateX(0) rotate(0deg);
    opacity: 0.8;
  }

  50% {
    transform: translateY(50vh) translateX(-10px) rotate(180deg);
    opacity: 0.6;
  }

  100% {
    transform: translateY(110vh) translateX(10px) rotate(360deg);
    opacity: 0;
  }
}

.cherry-drift-left {
  animation: cherry-drift-left linear forwards;
}

.cherry-drift-right {
  animation: cherry-drift-right linear forwards;
}

.cherry-tumble {
  animation: cherry-tumble linear forwards;
}

/* Keep content above particles */

header,
main {
  position: relative;
  z-index: 1;
}

/* Header */

header {
  width: 100%;

  text-align: center;

  padding: 40px 20px 20px; /* Reduced padding */

  background: rgba(30, 30, 40, 0.6); /* Lower opacity */

  border-bottom: 1px solid rgba(255, 153, 153, 0.3);

  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2); /* Simplified shadow */
}

h1 {
  font-size: 2.5em; /* Slightly smaller */

  margin: 0;

  font-family: "Press Start 2P", monospace;

  color: #ffb7c5;

  text-shadow: 0 0 6px rgba(255, 183, 197, 0.5); /* Reduced shadow */

  transition: color 0.3s ease, text-shadow 0.3s ease; /* Shorter duration */
}

.standby-mode header h1 {
  color: #ffb7c5;

  text-shadow: 0 0 6px rgba(255, 183, 197, 0.5);
}

.work-mode header h1 {
  color: #add8e6;

  text-shadow: 0 0 6px rgba(173, 216, 230, 0.5);
}

.break-mode header h1 {
  color: #ff69b4;

  text-shadow: 0 0 6px rgba(255, 105, 180, 0.5);
}

/* Main layout */

main {
  max-width: 700px;

  width: 100%;

  padding: 30px 20px; /* Reduced padding */

  display: flex;

  flex-direction: column;

  gap: 30px; /* Reduced gap */
}

/* Task section */

#task-section {
  background: rgba(255, 255, 255, 0.1);

  border-radius: 12px;

  padding: 20px;

  border: 1px solid rgba(255, 255, 255, 0.1);

  backdrop-filter: blur(6px);

  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);

  transition: transform 0.15s ease;
}

#task-section:hover {
  transform: scale(1.01);
}

#tasks-label {
  font-family: "Press Start 2P", monospace;

  font-size: 1.3em;

  color: #ffb7c5;

  text-shadow: 0 0 6px rgba(255, 183, 197, 0.4);

  background: rgba(144, 238, 144, 0.15);

  border: 2px dashed #ffb7c5;

  border-radius: 8px;

  padding: 8px 16px;

  margin-bottom: 12px;

  display: inline-flex;

  align-items: center;

  justify-content: center;

  gap: 8px;

  line-height: 1.2;

  transition: transform 0.15s ease;
}

#tasks-label:hover {
  transform: scale(1.01);
}

#tasks-label::before,
#tasks-label::after {
  content: "📋";

  font-size: 1.1em;

  line-height: 1;
}

#toggle-tasks-btn {
  padding: 8px 16px;

  background: linear-gradient(
    135deg,
    #5c6b8b,
    #7e8caf
  ); /* Match toggle-log-btn bluish hue */

  border: none;

  border-radius: 8px;

  color: #f3f4f6;

  cursor: pointer;

  font-family: "Press Start 2P", monospace;

  text-transform: uppercase;

  margin-bottom: 12px;

  transition: background 0.3s ease, transform 0.15s ease;
}

#toggle-tasks-btn:hover {
  background: linear-gradient(
    135deg,
    #7e8caf,
    #a3b1d1
  ); /* Match toggle-log-btn hover */

  transform: translateY(-1px) scale(1.02);
}

#task-input {
  display: flex;

  gap: 10px;

  margin-bottom: 15px;
}

#task-input input {
  flex: 1;

  padding: 10px;

  border: 1px solid rgba(255, 255, 255, 0.15);

  border-radius: 8px;

  background: rgba(30, 30, 40, 0.5);

  color: #f2f2f7;

  font-family: "Press Start 2P", monospace;

  font-size: 1em;

  text-shadow: 0 0 3px rgba(255, 255, 255, 0.2);
}

#task-input input:focus {
  border-color: #99ccff;

  box-shadow: 0 0 6px rgba(153, 204, 255, 0.3);

  outline: none;
}

#task-input button {
  padding: 10px 16px;

  background: linear-gradient(135deg, #cc99ff, #b366ff);

  border: none;

  border-radius: 8px;

  color: #fff;

  cursor: pointer;

  font-family: "Press Start 2P", monospace;

  text-transform: uppercase;

  transition: background 0.3s ease, transform 0.15s ease;
}

#task-input button:hover,
#task-input button.flash {
  background: linear-gradient(135deg, #b366ff, #9933ff);

  transform: translateY(-1px);
}

#task-list {
  list-style: none;

  padding: 0;

  margin: 0;

  max-height: 200px; /* Limit height to prevent overflow */

  overflow-y: auto; /* Enable scrolling within task list */
}

#task-list::-webkit-scrollbar {
  display: none;
}

#task-list {
  scrollbar-width: none;
}

#task-list li {
  display: flex;

  justify-content: space-between;

  align-items: center;

  padding: 10px;

  border-bottom: 1px dashed rgba(255, 255, 255, 0.15);

  font-family: "Press Start 2P", monospace;

  font-size: 0.95em;

  color: #e6e6f2;

  cursor: move;
}

#task-list li.dragging {
  opacity: 0.5;
}

#task-list li button {
  background: none;

  border: none;

  color: #ff9999; /* Red for delete button */

  cursor: pointer;

  font-size: 1.1em;

  margin-left: auto; /* Position at far right */
}

#task-list li button:hover {
  color: #ff6666; /* Darker red on hover */
}

/* Timer section */

#timer-section {
  background: rgba(255, 255, 255, 0.1);

  border-radius: 12px;

  padding: 30px 20px;

  text-align: center;

  backdrop-filter: blur(6px);

  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);

  transition: transform 0.15s ease;
}

#timer-section:hover {
  transform: scale(1.01);
}

#mode {
  font-size: 1.5em;

  font-family: "Press Start 2P", monospace;

  letter-spacing: 1px;

  padding: 8px 20px;

  border-radius: 8px;

  margin-bottom: 15px;

  display: inline-flex;

  align-items: center;

  justify-content: center;

  gap: 8px;

  transition: transform 0.15s ease;
}

#mode:hover {
  transform: scale(1.01);
}

#mode::before,
#mode::after {
  font-size: 1.1em;
}

#time {
  font-size: 3.5em;

  font-weight: bold;

  color: #fffacd;

  margin: 15px 0;

  font-family: "Press Start 2P", monospace;

  text-shadow: 0 0 8px rgba(255, 250, 205, 0.5);

  transition: color 0.3s ease, text-shadow 0.3s ease;
}

#total-time {
  font-size: 1.1em;

  color: #90ee90;

  margin-bottom: 20px;

  font-family: "Press Start 2P", monospace;

  text-shadow: 0 0 4px rgba(144, 238, 144, 0.3);

  background: rgba(144, 238, 144, 0.2);

  padding: 8px;

  border-radius: 8px;

  backdrop-filter: blur(4px);

  transition: color 0.3s ease, text-shadow 0.3s ease, background 0.3s ease;
}

#timer-buttons {
  display: flex;

  flex-wrap: wrap;

  justify-content: center;

  gap: 15px;
}

#timer-buttons button {
  padding: 10px 20px;

  border: none;

  border-radius: 8px;

  color: #fff;

  cursor: pointer;

  font-family: "Press Start 2P", monospace;

  text-transform: uppercase;

  transition: background 0.3s ease, transform 0.15s ease;
}

#timer-buttons button:hover {
  transform: translateY(-1px);
}

#timer-buttons button:disabled {
  background: linear-gradient(135deg, #666666, #999999);

  cursor: not-allowed;

  opacity: 0.6;
}

/* Standby mode styles */

.standby-mode #timer-section {
  background: rgba(255, 183, 197, 0.1);
}

.standby-mode #mode {
  color: #87ceeb;

  text-shadow: 0 0 6px rgba(135, 206, 235, 0.4);

  background: rgba(144, 238, 144, 0.15);

  border: 2px dashed #ffb7c5;
}

.standby-mode #mode::before,
.standby-mode #mode::after {
  content: "🌸";
}

.standby-mode #total-time {
  color: #90ee90;

  text-shadow: 0 0 4px rgba(144, 238, 144, 0.3);

  background: rgba(144, 238, 144, 0.2);
}

.standby-mode #start-btn {
  background: linear-gradient(135deg, #ffb7c5, #90ee90);
}

.standby-mode #start-btn:hover {
  background: linear-gradient(135deg, #ff9999, #98ff98);
}

.standby-mode #stop-btn {
  background: linear-gradient(135deg, #87ceeb, #fffacd);
}

.standby-mode #stop-btn:hover {
  background: linear-gradient(135deg, #4169e1, #add8e6);
}

.standby-mode #reset-btn {
  background: linear-gradient(135deg, #ffb7c5, #87ceeb);
}

.standby-mode #reset-btn:hover {
  background: linear-gradient(135deg, #ff9999, #99ccff);
}

/* Work mode styles */

.work-mode #timer-section {
  background: rgba(173, 216, 230, 0.1);
}

.work-mode #mode {
  color: #e6f0fa;

  text-shadow: 0 0 4px rgba(173, 216, 230, 0.6);

  background: rgba(240, 248, 255, 0.25);

  border: 2px solid #add8e6;
}

.work-mode #mode::before,
.work-mode #mode::after {
  content: "❄️";
}

.work-mode #time {
  color: #f0f8ff;

  text-shadow: 0 0 8px rgba(240, 248, 255, 0.5);
}

.work-mode #total-time {
  color: #add8e6;

  text-shadow: 0 0 4px rgba(173, 216, 230, 0.3);

  background: rgba(173, 216, 230, 0.2);
}

.work-mode #start-btn {
  background: linear-gradient(135deg, #00008b, #4682b4);
}

.work-mode #start-btn:hover {
  background: linear-gradient(135deg, #4169e1, #add8e6);
}

.work-mode #stop-btn {
  background: linear-gradient(135deg, #4169e1, #add8e6);
}

.work-mode #stop-btn:hover {
  background: linear-gradient(135deg, #00008b, #4682b4);
}

.work-mode #reset-btn {
  background: linear-gradient(135deg, #7b68ee, #f0f8ff);
}

.work-mode #reset-btn:hover {
  background: linear-gradient(135deg, #483d8b, #add8e6);
}

/* Break mode styles */

.break-mode #timer-section {
  background: rgba(64, 224, 208, 0.1);
}

.break-mode #mode {
  color: #40e0d0;

  text-shadow: 0 0 6px rgba(64, 224, 208, 0.4);

  background: rgba(255, 215, 0, 0.15);

  border: 2px solid #ffd700;
}

.break-mode #mode::before,
.break-mode #mode::after {
  content: "☀️";
}

.break-mode #time {
  color: #ffd700;

  text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
}

.break-mode #total-time {
  color: #00ff7f;

  text-shadow: 0 0 4px rgba(0, 255, 127, 0.3);

  background: rgba(0, 255, 127, 0.2);
}

.break-mode #start-btn {
  background: linear-gradient(135deg, #ff69b4, #00ff7f);
}

.break-mode #start-btn:hover {
  background: linear-gradient(135deg, #ff1493, #00ced1);
}

.break-mode #stop-btn {
  background: linear-gradient(135deg, #40e0d0, #ffd700);
}

.break-mode #stop-btn:hover {
  background: linear-gradient(135deg, #ff69b4, #00ff7f);
}

.break-mode #reset-btn {
  background: linear-gradient(135deg, #ff69b4, #40e0d0);
}

.break-mode #reset-btn:hover {
  background: linear-gradient(135deg, #ff1493, #00ced1);
}

/* Progress ring */

#progress-ring {
  display: none;

  justify-content: center;

  margin: 15px 0 10px;
}

.break-mode #progress-ring {
  display: flex;
}

#progress-ring svg {
  transform: rotate(-90deg);

  width: 200px;

  height: 200px;
}

#progress-bg {
  fill: transparent;

  stroke: rgba(255, 255, 255, 0.1);

  stroke-width: 10;

  cx: 100;

  cy: 100;

  r: 90;
}

#progress-circle {
  fill: transparent;

  stroke: #ff69b4;

  stroke-width: 10;

  stroke-linecap: round;

  cx: 100;

  cy: 100;

  r: 90;

  transition: stroke-dashoffset 0.25s linear;
}

/* Session Log Section */

#session-log-section {
  background: rgba(255, 255, 255, 0.1);

  border-radius: 12px;

  padding: 20px;

  border: 1px solid rgba(255, 255, 255, 0.1);

  backdrop-filter: blur(6px);

  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);

  transition: transform 0.15s ease;
}

#session-log-section:hover {
  transform: scale(1.01);
}

#session-log-label {
  font-family: "Press Start 2P", monospace;

  font-size: 1.1em;

  color: #ffb7c5;

  text-shadow: 0 0 6px rgba(255, 183, 197, 0.4);

  background: rgba(144, 238, 144, 0.15);

  border: 2px dashed #ffb7c5;

  border-radius: 8px;

  padding: 6px 12px;

  margin-bottom: 12px;

  display: inline-flex;

  align-items: center;

  justify-content: center;

  gap: 6px;

  line-height: 1.2;

  white-space: nowrap;

  transition: transform 0.15s ease;
}

#session-log-label:hover {
  transform: scale(1.01);
}

#session-log-label::before,
#session-log-label::after {
  content: "📜";

  font-size: 1.1em;

  line-height: 1;
}

.log-buttons {
  display: flex;

  gap: 10px;

  margin-bottom: 12px;
}

#clear-log-btn {
  padding: 8px 16px;

  background: linear-gradient(
    135deg,
    #8b5c5c,
    #af7e7e
  ); /* Reddish hue for destructive action */

  border: none;

  border-radius: 8px;

  color: #f3f4f6;

  cursor: pointer;

  font-family: "Press Start 2P", monospace;

  text-transform: uppercase;

  transition: background 0.3s ease, transform 0.15s ease;
}

#clear-log-btn:hover {
  background: linear-gradient(
    135deg,
    #af7e7e,
    #d1a3a3
  ); /* Lighter reddish hover */

  transform: translateY(-1px) scale(1.02);
}

#toggle-log-btn {
  padding: 8px 16px;

  background: linear-gradient(
    135deg,
    #5c6b8b,
    #7e8caf
  ); /* Bluish hue for toggle action */

  border: none;

  border-radius: 8px;

  color: #f3f4f6;

  cursor: pointer;

  font-family: "Press Start 2P", monospace;

  text-transform: uppercase;

  transition: background 0.3s ease, transform 0.15s ease;
}

#toggle-log-btn:hover {
  background: linear-gradient(
    135deg,
    #7e8caf,
    #a3b1d1
  ); /* Lighter bluish hover */

  transform: translateY(-1px) scale(1.02);
}

#session-log {
  list-style: none;

  padding: 0;

  margin: 0;

  display: flex;

  flex-direction: column;

  gap: 12px;

  max-height: 200px;

  overflow-y: auto;
}

#session-log::-webkit-scrollbar {
  display: none;
}

#session-log {
  scrollbar-width: none;
}

.session-entry {
  border: 1px solid rgba(255, 255, 255, 0.1);

  border-radius: 12px;

  padding: 12px;

  background: rgba(255, 255, 255, 0.05);

  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  display: flex;

  justify-content: space-between;

  align-items: center;

  transition: transform 0.15s ease;
}

.session-entry:hover {
  transform: scale(1.01);
}

.session-entry.work {
  background: rgba(173, 216, 230, 0.1);

  border-left: 4px solid #6699ff;
}

.session-entry.break {
  background: rgba(64, 224, 208, 0.1);

  border-left: 4px solid #ff6666;
}

.session-time {
  font-family: "Press Start 2P", monospace;

  font-size: 0.95em;
}

.session-time.work {
  color: #f0f8ff;
}

.session-time.break {
  color: #ffd700;
}

.session-label {
  font-family: "Press Start 2P", monospace;

  font-size: 0.95em;
}

.session-label.work {
  color: #add8e6;
}

.session-label.work::before {
  content: "❄️ ";
}

.session-label.break {
  color: #ff69b4;
}

.session-label.break::before {
  content: "☀️ ";
}
